function bind(t,i){return function(){return t[i].apply(t,arguments)}}!function(t,i){"use strict";var s=function(t){t=t||{},void 0!==t.el&&(this.wrapper="string"==typeof t.el?i.querySelector(t.el):t.el,this.scroller=this.wrapper.children[0],this.elements=this.scroller.children,this.length=this.elements.length,this.length<1||(this.fullScreen=!!t.fullScreen||!1,this.direction=t.direction||"left",this.navShow=!!t.navShow||!1,this.navShow&&(this.navClass=t.navClass||"slide-nav"),this.current=t.current||"current",this.index=t.index||0,this.index>this.length-1&&(this.index=this.length-1),this.oIndex=this.index,this.duration=t.duration||400,this.auto=!!t.auto||!1,this.auto&&(this.delay=t.delay||5e3),this.locked=!!t.locked||!1,this.stoped=t.stoped===!1?!1:!0,this.canceled=!!t.canceled||!1,this.prevented=!!t.prevented||!1,this.support3d=this._support3d(),this.start=t.start||function(){},this.move=t.move||function(){},this.end=t.end||function(){},this.before=t.before||function(){},this.after=t.after||function(){},this._init()))};s.prototype={_init:function(){this.navShow&&this._create(),this._setup(),this._bind()},_create:function(){var t=null,s=0;for(!this.navs&&(this.navs=[]),this.nav=i.createElement("ul");s<this.length;s++)t=i.createElement("li"),this.navs.push(t),this.nav.appendChild(t);this.nav.className=this.navClass,this.wrapper.appendChild(this.nav)},_setup:function(){if("static"===this._css(this.wrapper,"position")&&(this.wrapper.style.position="relative"),"hidden"!==this._css(this.wrapper,"overflow")&&(this.wrapper.style.overflow="hidden"),this.support3d||("static"===this._css(this.scroller,"position")&&(this.scroller.style.position="absolute"),isNaN(parseInt(this._css(this.scroller,"left")))&&(this.scroller.style.left="0px"),isNaN(parseInt(this._css(this.scroller,"top")))&&(this.scroller.style.top="0px")),"left"===this.direction)for(var t=0;t<this.length;t++)"left"!==this._css(this.elements[t],"cssFloat")&&(this.elements[t].style.cssFloat="left");else"top"===this.direction&&this.navShow&&(this.nav.style.marginTop=-this.nav.offsetHeight/2+"px");this._set(),this._addClass(this.elements[this.index],this.current),this.navShow&&this._addClass(this.navs[this.index],this.current)},_set:function(){if(this.width=this.fullScreen?i.documentElement.clientWidth:this.wrapper.offsetWidth,this.height=this.fullScreen?i.documentElement.clientHeight:this.wrapper.offsetHeight,this.distance="left"===this.direction?this.width:this.height,"left"===this.direction){this.fullScreen&&(this.wrapper.style.width=this.width+"px"),this.scroller.style.width=this.length*this.width+"px";for(var t=0;t<this.length;t++)this.elements[t].style.width=this.width+"px"}else if("top"===this.direction){this.wrapper.style.height=this.height+"px",this.scroller.style.height=this.length*this.height+"px";for(var t=0;t<this.length;t++)this.elements[t].style.height=this.height+"px"}this._setTransform(-this.index*this.distance)},_bind:function(){var i=this;this._on(this.wrapper,["touchstart","pointerdown","MSPointerDown"],function(t){i._touchStart(t),i.auto&&i._stop()}),this._on(this.wrapper,["touchmove","pointermove","MSPointerMove"],function(t){i._touchMove(t),i.auto&&i._stop()}),this._on(this.wrapper,["touchend","touchcancel","pointerup","pointercancel","MSPointerUp","MSPointerCancel"],function(t){i._touchEnd(t),i.auto&&i._play()}),this._on(this.scroller,["transitionend","webkitTransitionEnd","oTransitionEnd","MSTransitionEnd"],function(t){i._transitionEnd(t)}),this._on(t,["resize","orientationchange"],function(t){i._resize()}),this.auto&&this._play()},_touchStart:function(t){var i=t.touches?t.touches[0]:t;!this.touch&&(this.touch={}),this.touch.x=i.pageX,this.touch.y=i.pageY,this.touch.disX=0,this.touch.disY=0,this.touch.fixed="",this.start&&this.start()},_touchMove:function(t){var i=t.touches?t.touches[0]:t;this.touch.disX=i.pageX-this.touch.x,this.touch.disY=i.pageY-this.touch.y,""===this.touch.fixed&&(Math.abs(this.touch.disY)>Math.abs(this.touch.disX)?this.touch.fixed="top":this.touch.fixed="left"),"left"===this.direction?"left"===this.touch.fixed?(t.preventDefault(),this.stoped&&t.stopPropagation(),this._move(this.touch.disX)):"top"===this.touch.fixed&&(this.prevented&&t.preventDefault(),this.canceled&&t.stopPropagation()):"top"===this.direction&&(t.preventDefault(),"top"===this.touch.fixed?(this.stoped&&t.stopPropagation(),this._move(this.touch.disY)):this.canceled&&t.stopPropagation()),this.move&&this.move()},_touchEnd:function(t){"left"===this.direction&&"left"===this.touch.fixed?this._end(this.touch.disX):"top"===this.direction&&"top"===this.touch.fixed&&this._end(this.touch.disY),this.end&&this.end()},_transitionEnd:function(t){this._setTransition(),this.index!==this.oIndex&&this._reset(),this.after&&this.after()},_move:function(t){if(0===this.index&&t>0||this.index===this.length-1&&0>t){if(this.locked)return;t/=4}this._setTransform(t-this.index*this.distance)},_end:function(t){Math.abs(t)>10&&(t>0?this.index--:this.index++),this._slide()},_slide:function(){this.auto?(this.index<0&&(this.index=this.length-1),this.index>this.length-1&&(this.index=0)):(this.index<0&&(this.index=0),this.index>this.length-1&&(this.index=this.length-1)),this.before&&this.before(),this._setTransition(this.duration),this._setTransform(-this.index*this.distance)},_resize:function(){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t._set()},60)},_reset:function(){this.navShow&&this._addClass(this.navs[this.index],this.current)._removeClass(this.navs[this.oIndex],this.current),this._addClass(this.elements[this.index],this.current)._removeClass(this.elements[this.oIndex],this.current),this.oIndex=this.index},_setTransition:function(t){t=t||0,this._setStyle(this.scroller,"transition","all "+t+"ms")},_setTransform:function(t){"left"===this.direction?this.support3d?this._setStyle(this.scroller,"transform","translate3d("+t+"px,0px,0px)"):this.scroller.style.left=t+"px":"top"===this.direction&&(this.support3d?this._setStyle(this.scroller,"transform","translate3d(0px,"+t+"px,0px)"):this.scroller.style.top=t+"px")},_setStyle:function(t,i,s){!this.cache&&(this.cache={}),!this.cache[t]&&(this.cache[t]={}),!this.cache[t][i]&&(this.cache[t][i]=this._prefix(i)),t.style[this.cache[t][i]||this._prefix(i)]=s},_prefix:function(t){var s=i.createElement("div").style;if(t in s)return t;for(var e=["webkit","Moz","ms","O"],h=0,n=e.length,o="";n>h;h++)if(o=e[h]+"-"+t,o=o.replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()}),o in s)return o},_hasClass:function(t,i){return-1<(" "+t.className+" ").indexOf(" "+i+" ")},_addClass:function(t,i){return this._hasClass(t,i)||(t.className+=" "+i),this},_removeClass:function(t,i){if(this._hasClass(t,i)){var s=new RegExp("(\\s|^)"+i+"(\\s|$)");t.className=t.className.replace(s,"")}return this},_css:function(t,i){return getComputedStyle(t,null)[i]},_on:function(t,i,s){for(var e=0,h=i.length;h>e;e++)t.addEventListener(i[e],s,!1)},_support3d:function(){var s,e=i.createElement("p"),h={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};i.body.appendChild(e);for(var n in h)void 0!==e.style[n]&&(e.style[n]="translate3d(1px,1px,1px)",s=t.getComputedStyle(e).getPropertyValue(h[n]));return i.body.removeChild(e),void 0!==s&&s.length>0&&"none"!==s},_play:function(){var t=this;this.timer=setInterval(function(){t.next()},this.delay)},_stop:function(){this.timer&&clearInterval(this.timer),this.timer=null},prev:function(){this.index--,this._slide()},next:function(){this.index++,this._slide()}},"function"==typeof define&&define.amd?define("mSlide",[],function(){return s}):t.mSlide=s}(window,document);